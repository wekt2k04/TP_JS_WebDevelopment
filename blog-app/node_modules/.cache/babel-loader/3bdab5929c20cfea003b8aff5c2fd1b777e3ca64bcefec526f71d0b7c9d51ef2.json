{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.map.js\";\n// src/composables/postStore.js\nimport { ref } from 'vue';\nimport postData from '../assets/data.json';\n\n// Ref partagé dans toute l'application\nconst posts = ref([]);\n\n// Initialiser les posts (JSON + nouveaux posts ajoutés)\nfunction initPosts() {\n  if (posts.value.length === 0) {\n    posts.value = [...postData.posts];\n  }\n}\n\n// Ajouter un post\nfunction addPost(newPost) {\n  const id = posts.value.length > 0 ? Math.max(...posts.value.map(p => p.id)) + 1 : 1;\n  const post = {\n    id,\n    title: newPost.title,\n    body: newPost.body,\n    tags: newPost.tags.split(',').map(t => t.trim()).filter(t => t.length > 0)\n  };\n  posts.value.unshift(post);\n}\n\n// Récupérer tous les posts\nfunction getPosts() {\n  initPosts();\n  return posts.value;\n}\n\n// Récupérer par ID\nfunction getPostById(id) {\n  initPosts();\n  return posts.value.find(p => p.id === parseInt(id)) || null;\n}\nexport default function usePostsStore() {\n  return {\n    posts,\n    getPosts,\n    addPost,\n    getPostById\n  };\n}","map":{"version":3,"names":["ref","postData","posts","initPosts","value","length","addPost","newPost","id","Math","max","map","p","post","title","body","tags","split","t","trim","filter","unshift","getPosts","getPostById","find","parseInt","usePostsStore"],"sources":["C:/Users/abc66/Documents/blog-app/src/composables/postStore.js"],"sourcesContent":["\r\n// src/composables/postStore.js\r\nimport { ref } from 'vue';\r\nimport postData from '../assets/data.json';\r\n\r\n// Ref partagé dans toute l'application\r\nconst posts = ref([]);\r\n\r\n// Initialiser les posts (JSON + nouveaux posts ajoutés)\r\nfunction initPosts() {\r\n  if (posts.value.length === 0) {\r\n    posts.value = [...postData.posts];\r\n  }\r\n}\r\n\r\n// Ajouter un post\r\nfunction addPost(newPost) {\r\n  const id =\r\n    posts.value.length > 0\r\n      ? Math.max(...posts.value.map(p => p.id)) + 1\r\n      : 1;\r\n\r\n  const post = {\r\n    id,\r\n    title: newPost.title,\r\n    body: newPost.body,\r\n    tags: newPost.tags.split(',').map(t => t.trim()).filter(t => t.length > 0)\r\n  };\r\n\r\n  posts.value.unshift(post);\r\n}\r\n\r\n// Récupérer tous les posts\r\nfunction getPosts() {\r\n  initPosts();\r\n  return posts.value;\r\n}\r\n\r\n// Récupérer par ID\r\nfunction getPostById(id) {\r\n  initPosts();\r\n  return posts.value.find(p => p.id === parseInt(id)) || null;\r\n}\r\n\r\nexport default function usePostsStore() {\r\n  return {\r\n    posts,\r\n    getPosts,\r\n    addPost,\r\n    getPostById\r\n  };\r\n}\r\n"],"mappings":";;;;AACA;AACA,SAASA,GAAG,QAAQ,KAAK;AACzB,OAAOC,QAAQ,MAAM,qBAAqB;;AAE1C;AACA,MAAMC,KAAK,GAAGF,GAAG,CAAC,EAAE,CAAC;;AAErB;AACA,SAASG,SAASA,CAAA,EAAG;EACnB,IAAID,KAAK,CAACE,KAAK,CAACC,MAAM,KAAK,CAAC,EAAE;IAC5BH,KAAK,CAACE,KAAK,GAAG,CAAC,GAAGH,QAAQ,CAACC,KAAK,CAAC;EACnC;AACF;;AAEA;AACA,SAASI,OAAOA,CAACC,OAAO,EAAE;EACxB,MAAMC,EAAE,GACNN,KAAK,CAACE,KAAK,CAACC,MAAM,GAAG,CAAC,GAClBI,IAAI,CAACC,GAAG,CAAC,GAAGR,KAAK,CAACE,KAAK,CAACO,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACJ,EAAE,CAAC,CAAC,GAAG,CAAC,GAC3C,CAAC;EAEP,MAAMK,IAAI,GAAG;IACXL,EAAE;IACFM,KAAK,EAAEP,OAAO,CAACO,KAAK;IACpBC,IAAI,EAAER,OAAO,CAACQ,IAAI;IAClBC,IAAI,EAAET,OAAO,CAACS,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAACN,GAAG,CAACO,CAAC,IAAIA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC,CAACC,MAAM,CAACF,CAAC,IAAIA,CAAC,CAACb,MAAM,GAAG,CAAC;EAC3E,CAAC;EAEDH,KAAK,CAACE,KAAK,CAACiB,OAAO,CAACR,IAAI,CAAC;AAC3B;;AAEA;AACA,SAASS,QAAQA,CAAA,EAAG;EAClBnB,SAAS,CAAC,CAAC;EACX,OAAOD,KAAK,CAACE,KAAK;AACpB;;AAEA;AACA,SAASmB,WAAWA,CAACf,EAAE,EAAE;EACvBL,SAAS,CAAC,CAAC;EACX,OAAOD,KAAK,CAACE,KAAK,CAACoB,IAAI,CAACZ,CAAC,IAAIA,CAAC,CAACJ,EAAE,KAAKiB,QAAQ,CAACjB,EAAE,CAAC,CAAC,IAAI,IAAI;AAC7D;AAEA,eAAe,SAASkB,aAAaA,CAAA,EAAG;EACtC,OAAO;IACLxB,KAAK;IACLoB,QAAQ;IACRhB,OAAO;IACPiB;EACF,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}