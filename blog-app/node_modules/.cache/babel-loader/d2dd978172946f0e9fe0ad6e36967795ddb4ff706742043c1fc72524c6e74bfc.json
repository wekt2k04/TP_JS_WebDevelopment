{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { ref } from 'vue';\nimport postData from '../assets/data.json';\n\n// Ref partagée pour tous les posts (données initiales + nouveaux posts)\nconst posts = ref([]);\nexport function usePostsStore() {\n  // Initialiser les posts une seule fois\n  function initPosts() {\n    if (posts.value.length === 0) {\n      posts.value = [...(postData.posts || [])];\n    }\n  }\n\n  // Ajouter un nouveau post\n  function addPost(newPost) {\n    const id = posts.value.length > 0 ? Math.max(...posts.value.map(p => p.id)) + 1 : 1;\n    const post = {\n      id,\n      title: newPost.title,\n      body: newPost.body,\n      tags: newPost.tags.map(tag => tag.trim()).filter(tag => tag.length > 0)\n    };\n    posts.value.unshift(post); // Ajouter au début\n  }\n\n  // Récupérer tous les posts\n  function getPosts() {\n    return posts.value;\n  }\n  return {\n    posts,\n    initPosts,\n    addPost,\n    getPosts\n  };\n}","map":{"version":3,"names":["ref","postData","posts","usePostsStore","initPosts","value","length","addPost","newPost","id","Math","max","map","p","post","title","body","tags","tag","trim","filter","unshift","getPosts"],"sources":["C:/Users/abc66/Documents/blog-app/src/composables/postsStore.js"],"sourcesContent":["import { ref } from 'vue';\r\nimport postData from '../assets/data.json';\r\n\r\n// Ref partagée pour tous les posts (données initiales + nouveaux posts)\r\nconst posts = ref([]);\r\n\r\nexport function usePostsStore() {\r\n  // Initialiser les posts une seule fois\r\n  function initPosts() {\r\n    if (posts.value.length === 0) {\r\n      posts.value = [...(postData.posts || [])];\r\n    }\r\n  }\r\n\r\n  // Ajouter un nouveau post\r\n  function addPost(newPost) {\r\n    const id = posts.value.length > 0 \r\n      ? Math.max(...posts.value.map(p => p.id)) + 1 \r\n      : 1;\r\n    \r\n    const post = {\r\n      id,\r\n      title: newPost.title,\r\n      body: newPost.body,\r\n      tags: newPost.tags.map(tag => tag.trim()).filter(tag => tag.length > 0)\r\n    };\r\n    \r\n    posts.value.unshift(post); // Ajouter au début\r\n  }\r\n\r\n  // Récupérer tous les posts\r\n  function getPosts() {\r\n    return posts.value;\r\n  }\r\n\r\n  return {\r\n    posts,\r\n    initPosts,\r\n    addPost,\r\n    getPosts\r\n  };\r\n}\r\n"],"mappings":";;;AAAA,SAASA,GAAG,QAAQ,KAAK;AACzB,OAAOC,QAAQ,MAAM,qBAAqB;;AAE1C;AACA,MAAMC,KAAK,GAAGF,GAAG,CAAC,EAAE,CAAC;AAErB,OAAO,SAASG,aAAaA,CAAA,EAAG;EAC9B;EACA,SAASC,SAASA,CAAA,EAAG;IACnB,IAAIF,KAAK,CAACG,KAAK,CAACC,MAAM,KAAK,CAAC,EAAE;MAC5BJ,KAAK,CAACG,KAAK,GAAG,CAAC,IAAIJ,QAAQ,CAACC,KAAK,IAAI,EAAE,CAAC,CAAC;IAC3C;EACF;;EAEA;EACA,SAASK,OAAOA,CAACC,OAAO,EAAE;IACxB,MAAMC,EAAE,GAAGP,KAAK,CAACG,KAAK,CAACC,MAAM,GAAG,CAAC,GAC7BI,IAAI,CAACC,GAAG,CAAC,GAAGT,KAAK,CAACG,KAAK,CAACO,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACJ,EAAE,CAAC,CAAC,GAAG,CAAC,GAC3C,CAAC;IAEL,MAAMK,IAAI,GAAG;MACXL,EAAE;MACFM,KAAK,EAAEP,OAAO,CAACO,KAAK;MACpBC,IAAI,EAAER,OAAO,CAACQ,IAAI;MAClBC,IAAI,EAAET,OAAO,CAACS,IAAI,CAACL,GAAG,CAACM,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CAACC,MAAM,CAACF,GAAG,IAAIA,GAAG,CAACZ,MAAM,GAAG,CAAC;IACxE,CAAC;IAEDJ,KAAK,CAACG,KAAK,CAACgB,OAAO,CAACP,IAAI,CAAC,CAAC,CAAC;EAC7B;;EAEA;EACA,SAASQ,QAAQA,CAAA,EAAG;IAClB,OAAOpB,KAAK,CAACG,KAAK;EACpB;EAEA,OAAO;IACLH,KAAK;IACLE,SAAS;IACTG,OAAO;IACPe;EACF,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}